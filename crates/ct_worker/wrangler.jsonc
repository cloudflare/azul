{
    "name": "static-ct",
    "main": "build/worker/shim.mjs",
    "compatibility_date": "2025-04-01",
    "workers_dev": false,
    "build": {
        "command": "echo 'Default environment not configured. Please specify an environment with the \"-e\" flag.' && exit 1"
    },
    "triggers": {
        "crons": [
            "23 4 * * *"
        ]
    },
    "env": {
        "dev": {
            "build": {
                // Change '--release' to '--dev' to compile with debug symbols.
                // DEPLOY_ENV is used in build.rs to select per-environment config and roots.
                "command": "cargo install -q worker-build && DEPLOY_ENV=dev worker-build --release"
            },
            "route": {
                "pattern": "static-ct-dev.cloudflareresearch.com",
                "custom_domain": true
            },
            "kv_namespaces": [
                {
                    "id": "e4aab0c89ebe492c9c81c444c78a31ff",
                    "binding": "ccadb_roots"
                },
                {
                    "id": "3a23691917c844d59aea47fdf964850f",
                    "binding": "cache_dev2025h1a"
                },
                {
                    "id": "38045c90369140b091b3b68451dc6c29",
                    "binding": "cache_dev2025h2a"
                }
            ],
            "r2_buckets": [
                {
                    "bucket_name": "static-ct-public-dev2025h1a",
                    "binding": "public_dev2025h1a"
                },
                {
                    "bucket_name": "static-ct-public-dev2025h2a",
                    "binding": "public_dev2025h2a"
                }
            ],
            "durable_objects": {
                "bindings": [
                    {
                        "name": "SEQUENCER",
                        "class_name": "Sequencer"
                    },
                    {
                        "name": "BATCHER",
                        "class_name": "Batcher"
                    },
                    {
                        "name": "CLEANER",
                        "class_name": "Cleaner"
                    }
                ]
            },
            "migrations": [
                {
                    // tag should be unique for each entry
                    "tag": "v1",
                    "new_sqlite_classes": [
                        "Sequencer",
                        "Batcher"
                    ]
                },
                {
                    "tag": "v2",
                    "new_sqlite_classes": [
                        "Cleaner"
                    ]
                }
            ]
        },
        "cftest": {
            "build": {
                // Change '--release' to '--dev' to compile with debug symbols.
                // DEPLOY_ENV is used in build.rs to select per-environment config and roots.
                "command": "cargo install -q worker-build && DEPLOY_ENV=cftest worker-build --release"
            },
            "route": {
                "pattern": "static-ct.cloudflareresearch.com",
                "custom_domain": true
            },
            "kv_namespaces": [
                {
                    "id": "e4aab0c89ebe492c9c81c444c78a31ff",
                    "binding": "ccadb_roots"
                },
                {
                    "id": "252e2e33dda544ce9660ca16d48afd50",
                    "binding": "cache_cftest2025h1a"
                },
                {
                    "id": "b68bffb07b954aa09c6f4225ab00d0b7",
                    "binding": "cache_cftest2025h2a"
                }
            ],
            "r2_buckets": [
                {
                    "bucket_name": "static-ct-public-cftest2025h1a",
                    "binding": "public_cftest2025h1a"
                },
                {
                    "bucket_name": "static-ct-public-cftest2025h2a",
                    "binding": "public_cftest2025h2a"
                }
            ],
            "durable_objects": {
                "bindings": [
                    {
                        "name": "SEQUENCER",
                        "class_name": "Sequencer"
                    },
                    {
                        "name": "BATCHER",
                        "class_name": "Batcher"
                    },
                    {
                        "name": "CLEANER",
                        "class_name": "Cleaner"
                    }
                ]
            },
            "migrations": [
                {
                    // tag should be unique for each entry
                    "tag": "v1",
                    "new_sqlite_classes": [
                        "Sequencer",
                        "Batcher"
                    ]
                },
                {
                    "tag": "v2",
                    "new_sqlite_classes": [
                        "Cleaner"
                    ]
                }
            ]
        },
        "raio": {
            "build": {
                // Change '--release' to '--dev' to compile with debug symbols.
                // DEPLOY_ENV is used in build.rs to select per-environment config and roots.
                "command": "cargo install -q worker-build && DEPLOY_ENV=raio worker-build --release"
            },
            "routes": [
                "https://ct.cloudflare.com/logs/raio2025h2a/*",
                "https://ct.cloudflare.com/logs/raio2026h1a/*",
                "https://ct.cloudflare.com/logs/raio2026h2a/*",
                "https://ct.cloudflare.com/logs/raio2027h1a/*",
                "https://ct.cloudflare.com/logs/raio2027h2a/*"
            ],
            "kv_namespaces": [
                {
                    "id": "12fa8928b30541d6b5c26ddf173c9acd",
                    "binding": "ccadb_roots"
                },
                {
                    "id": "180000ea656e4f4987bcfe9d47b8525e",
                    "binding": "cache_raio2025h2a"
                },
                {
                    "id": "0a8eba39d36f4dd9bbb8fb9cb734b236",
                    "binding": "cache_raio2026h1a"
                },
                {
                    "id": "6faa76b0b42844e3abf6ca2ba3197174",
                    "binding": "cache_raio2026h2a"
                },
                {
                    "id": "e384a380de7841fd8491a5c381f90b6a",
                    "binding": "cache_raio2027h1a"
                },
                {
                    "id": "52a50301b7c24d3a950354d8e658bb28",
                    "binding": "cache_raio2027h2a"
                }
            ],
            "r2_buckets": [
                {
                    "bucket_name": "static-ct-public-raio2025h2a",
                    "binding": "public_raio2025h2a"
                },
                {
                    "bucket_name": "static-ct-public-raio2026h1a",
                    "binding": "public_raio2026h1a"
                },
                {
                    "bucket_name": "static-ct-public-raio2026h2a",
                    "binding": "public_raio2026h2a"
                },
                {
                    "bucket_name": "static-ct-public-raio2027h1a",
                    "binding": "public_raio2027h1a"
                },
                {
                    "bucket_name": "static-ct-public-raio2027h2a",
                    "binding": "public_raio2027h2a"
                }
            ],
            "durable_objects": {
                "bindings": [
                    {
                        "name": "SEQUENCER",
                        "class_name": "Sequencer"
                    },
                    {
                        "name": "BATCHER",
                        "class_name": "Batcher"
                    },
                    {
                        "name": "CLEANER",
                        "class_name": "Cleaner"
                    }
                ]
            },
            "migrations": [
                {
                    // tag should be unique for each entry
                    "tag": "v1",
                    "new_sqlite_classes": [
                        "Sequencer",
                        "Batcher",
                        "Cleaner"
                    ]
                }
            ]
        }
    }
}